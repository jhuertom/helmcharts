image:
  repository: sonatype/nexus3
  tag: 3.64.0
  pullPolicy: IfNotPresent
nexus:
  docker:
    enabled: true
    registries:
      - host: nexus-docker.local
        port: 5000
        secretName: registry-secret
  env:
    - name: INSTALL4J_ADD_VM_PARAMS
      value: |-
        -Xms2703M -Xmx2703M
        -XX:MaxDirectMemorySize=2703M
        -XX:+UnlockExperimentalVMOptions
        -XX:+UseCGroupMemoryLimitForHeap
        -Djava.util.prefs.userRoot=/nexus-data/javaprefs
    - name: NEXUS_SECURITY_RANDOMPASSWORD
      value: "true"
ingress:
  enabled: true
  ingressClassName: nginx
  annotations:
      nginx.ingress.kubernetes.io/proxy-body-size: "0"
      nginx.ingress.kubernetes.io/proxy-read-timeout: "600"
      nginx.ingress.kubernetes.io/proxy-send-timeout: "600"
      nginx.ingress.kubernetes.io/proxy-buffering: "off"
      nginx.ingress.kubernetes.io/proxy-request-buffering: "off"
      nginx.ingress.kubernetes.io/ssl-redirect: "true"
      nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
  hostPath: /
  hostRepo: nexus.local
service:
  name: nexus3
  enabled: true
  labels: {}
  annotations: {}
  type: ClusterIP
persistence:
  enabled: true
  accessMode: ReadWriteOnce
  storageClass: nfs-client
  storageSize: 8Gi
